<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
    <title>BrawlCrown â€“ Arena Fighter</title>
    <link rel="stylesheet" href="styles.css">
    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js"
        }
    }
    </script>
</head>
<body>
    <div id="game-container">
        <canvas id="game-canvas"></canvas>

        <div id="ui-overlay">
            <!-- Main Menu -->
            <div id="main-menu" class="screen active">
                <div class="menu-content">
                    <h1 class="game-title">BRAWL<span>CROWN</span></h1>
                    <p class="tagline">King of the Rooftop</p>
                    <button id="btn-play" class="btn-primary">FIGHT</button>
                    <button id="btn-controls" class="btn-secondary">CONTROLS</button>
                </div>
            </div>

            <!-- Controls Screen -->
            <div id="controls-screen" class="screen">
                <div class="menu-content">
                    <h2>CONTROLS</h2>
                    <div class="controls-info">
                        <div class="control-group">
                            <h3>KEYBOARD</h3>
                            <p><b>WASD</b> Move</p>
                            <p><b>SHIFT</b> Sprint</p>
                            <p><b>SPACE</b> Jump</p>
                            <p><b>LMB / J</b> Light Attack</p>
                            <p><b>RMB / K</b> Heavy (hold)</p>
                            <p><b>Q</b> Dodge Roll</p>
                            <p><b>E</b> Grab</p>
                            <p><b>R</b> Block</p>
                        </div>
                        <div class="control-group">
                            <h3>MOBILE</h3>
                            <p><b>Stick</b> Move (push far = sprint)</p>
                            <p><b>ATK</b> Attack (hold = heavy)</p>
                            <p><b>JMP</b> Jump</p>
                            <p><b>DGE</b> Dodge Roll</p>
                            <p><b>GRB</b> Grab</p>
                            <p><b>BLK</b> Block (hold)</p>
                        </div>
                        <div class="control-group">
                            <h3>COMBAT TRIANGLE</h3>
                            <p>Grab beats Block</p>
                            <p>Block beats Attack</p>
                            <p>Attack beats Grab</p>
                        </div>
                    </div>
                    <button id="btn-back" class="btn-secondary">BACK</button>
                </div>
            </div>

            <!-- HUD -->
            <div id="hud" class="screen">
                <div id="player-stats">
                    <div class="player-name">YOU</div>
                    <div class="bar-container health-bar">
                        <div class="bar-fill" id="player-health"></div>
                        <div class="bar-text" id="player-health-text">100</div>
                    </div>
                    <div class="bar-container stamina-bar">
                        <div class="bar-fill" id="player-stamina"></div>
                    </div>
                </div>

                <div id="round-tracker">
                    <div id="round-text">ROUND 1</div>
                    <div id="round-timer">00:00</div>
                    <div id="round-pips">
                        <span class="pip" id="pip-1"></span>
                        <span class="pip" id="pip-2"></span>
                        <span class="pip" id="pip-3"></span>
                    </div>
                </div>

                <div id="enemy-stats-container"></div>

                <div id="combo-meter">
                    <span id="combo-count">0</span>
                    <span id="combo-label">HITS</span>
                </div>

                <div id="announcer"></div>
                <div id="damage-numbers"></div>
                <div id="hit-flash"></div>
                <div id="lock-on-marker"></div>

                <div id="alive-counter">
                    <span id="alive-count">4</span> ALIVE
                </div>
            </div>

            <!-- Results Screen -->
            <div id="results-screen" class="screen">
                <div class="menu-content">
                    <h2 id="result-title">VICTORY</h2>
                    <div id="result-stats"></div>
                    <button id="btn-play-again" class="btn-primary">PLAY AGAIN</button>
                    <button id="btn-menu" class="btn-secondary">MAIN MENU</button>
                </div>
            </div>
        </div>

        <!-- Mobile Controls -->
        <div id="mobile-controls">
            <div id="joystick-zone">
                <div id="joystick-base">
                    <div id="joystick-thumb"></div>
                </div>
            </div>
            <div id="action-buttons">
                <button class="action-btn" id="btn-atk">ATK</button>
                <button class="action-btn" id="btn-jmp">JMP</button>
                <button class="action-btn" id="btn-dge">DGE</button>
                <button class="action-btn" id="btn-grb">GRB</button>
                <button class="action-btn small" id="btn-blk">BLK</button>
            </div>
        </div>
    </div>

    <script type="module" src="main.js"></script>
</body>
</html>
